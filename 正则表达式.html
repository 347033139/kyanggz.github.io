<!DOCTYPE html>
<!-- saved from url=(0143)http://localhost:8080/Perl%e6%95%99%e7%a8%8b/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.php?pg=%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<title>正则表达式</title>		
	<link rel="stylesheet" href="./files/style.css" type="text/css" media="all">	
	<link rel="stylesheet" href="./files/font-awesome.min.css" media="all">	
</head>
	<body style="">
		<div class="container navigation">
			<div class="row">
				<div class="col nav">
				</div>
			</div>
		</div>
		<div class="container main">
			<div class="row">
				<div class="col left-column">
	<div class="tab">
		Perl 正则表达式	</div>
	<div class="sidebar-box gallery-list">
		<div class="design" id="leftcolumn">
							<a target="_top" title="教程" href="./教程.html?pg=教程">
								教程
							</a>
							<a target="_top" title="简介" href="./简介.html?pg=简介">
								简介
							</a>
							<a target="_top" title="环境安装" href="h./环境安装.html?pg=环境安装">
								环境安装
							</a>
							<a target="_top" title="基础语法" href="./基础语法.html?pg=基础语法">
								基础语法
							</a>
							<a target="_top" title="数据类型" href="./数据类型.html?pg=数据类型">
								数据类型
							</a>
							<a target="_top" title="变量" href="./变量.html?pg=变量">
								变量
							</a>
							<a target="_top" title="标量" href="./标量.html?pg=标量">
								标量
							</a>
							<a target="_top" title="数组" href="./数组.html?pg=数组">
								数组
							</a>
							<a target="_top" title="哈希" href="./哈希.html?pg=哈希">
								哈希
							</a>
							<a target="_top" title="条件语句" href="./条件语句.html?pg=条件语句">
								条件语句	
							</a>
							<a target="_top" title="Perl 循环" href="./循环.html?pg=循环">
								循环
							</a>
							<a target="_top" title="Perl 循环控制" href="./循环控制.html?pg=循环控制">
								循环控制
							</a>
							<a target="_top" title="运算符" href="./运算符.html?pg=运算符">
								运算符
							</a>
							<a target="_top" title="子程序(函数)" href="./子程序.html?pg=子程序">
								子程序(函数)	
							</a>
							<a target="_top" title="引用" href="./引用.html?pg=引用">
								引用
							</a>
							<a target="_top" title="格式化输出" href="./格式化输出.html?pg=格式化输出">
								格式化输出
							</a>
							<a target="_top" title="文件操作" href="./文件操作.html?pg=文件操作">
								文件操作
							</a>
							<a target="_top" title="目录操作" href="./目录操作.html?pg=目录操作">
								目录操作	
							</a>
							<a target="_top" title="特殊变量" href="./特殊变量.html?pg=特殊变量">
								特殊变量	
							</a>
							<a target="_top" title="正则表达式" href="./正则表达式.html?pg=正则表达式" style="background-color: rgb(150, 185, 125); font-weight: bold; color: rgb(255, 255, 255);">
								正则表达式
							</a>
		</div>
	</div>
</div>
				<div class="col middle-column">
					<div class="article" style="background-color: rgb(255, 255, 255);">
						<div class="previous-next-links">
		<div class="previous-design-link">
		<a href="./特殊变量.html?pg=特殊变量" rel="prev" title="特殊变量">
			Perl 特殊变量		</a>
	</div>
	<div class="next-design-link">
		<a href="" rel="next" title="">
					</a>
	</div>
</div>
						<div class="article-body">
							<div class="article-intro" id="content">
			<h1>Perl 正则表达式</h1>
<p>正则表达式(regular expression)描述了一种字符串匹配的模式，可以用来检查一个串是否含有某种子串、将匹配的子串做替换或者从某个串中取出符合某个条件的子串等。</p>
<p>Perl语言的正则表达式功能非常强大，基本上是常用语言中最强大的，很多语言设计正则式支持的时候都参考Perl的正则表达式。</p>
<p>Perl的正则表达式的三种形式，分别是匹配，替换和转化:</p>
<ul><li><p>
匹配：m/<regexp>/（还可以简写为/<regexp>/，略去m）</regexp></regexp></p></li><li><p>

替换：s/<pattern>/<replacement>/</replacement></pattern></p></li><li><p>

转化：tr/<pattern>/<replacemnt>/</replacemnt></pattern></p></li></ul>
<p>这三种形式一般都和 <b>=~</b> 或 <b>!~</b> 搭配使用， =~ 表示相匹配，!~ 表示不匹配。</p>
<hr>
<h2>匹配操作符</h2>
<p>匹配操作符 m// 用于匹配一个字符串语句或者一个正则表达式，例如，要匹配 标量 $bar 中的 "every" 和 "refuse"，代码如下所示：</p>
<div class="example"> 
<h2 class="example">实例</h2> 
<div class="example_code">
<div class="hl-main"><span class="hl-special">#!/usr/bin/perl</span><span class="hl-code">
 
</span><span class="hl-var">$bar</span><span class="hl-code"> = </span><span class="hl-quotes">"</span><span class="hl-string">Behind every great fortune, there is a crime.</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">if</span><span class="hl-code"> </span><span class="hl-brackets">(</span><span class="hl-var">$bar</span><span class="hl-code"> =~</span><span class="hl-quotes"> /</span><span class="hl-string">every</span><span class="hl-quotes">/</span><span class="hl-brackets">)</span><span class="hl-brackets">{</span><span class="hl-code">
   </span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">第一次匹配</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-code">
   </span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">第一次不匹配</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-code">
 
</span><span class="hl-var">$bar</span><span class="hl-code"> = </span><span class="hl-quotes">"</span><span class="hl-string">I'm gonna make him an offer that he can't refuse.</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">if</span><span class="hl-code"> </span><span class="hl-brackets">(</span><span class="hl-var">$bar</span><span class="hl-code"> =~</span><span class="hl-quotes"> /</span><span class="hl-string">refuse</span><span class="hl-quotes">/</span><span class="hl-brackets">)</span><span class="hl-brackets">{</span><span class="hl-code">
   </span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">第二次匹配</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-brackets">}</span><span class="hl-reserved">else</span><span class="hl-brackets">{</span><span class="hl-code">
   </span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">第二次不匹配</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-brackets">}</span></div>
</div>
</div>
<p>执行以上程序，输出结果为：</p>
<p><img width="50%" src="./files/Xnip2020-10-23_11-45-09.jpg"></p>
<h3>模式匹配修饰符</h3>
<p>模式匹配有一些常用的修饰符，如下表所示：</p>
<table class="reference">
<tbody><tr><th>修饰符</th><th>描述</th></tr>
<tr><td>i</td><td>忽略模式中的大小写</td></tr>
<tr>
<td>m</td>
<td>多行模式</td></tr>
<tr><td>o</td><td>仅赋值一次</td></tr>
<tr><td>s</td><td>单行模式，"."匹配"\n"（默认不匹配）</td></tr>
<tr><td>x</td><td>忽略模式中的空白</td></tr>
<tr><td>g</td><td>全局匹配</td></tr>
<tr><td>cg</td><td>全局匹配失败后，允许再次查找匹配串</td></tr>
</tbody></table>
<hr>
<h2>正则表达式变量</h2>
<p>perl处理完后会给匹配到的值存在三个特殊变量名: 
</p>
<ul>
<li>
<b>$`: </b>匹配部分的前一部分字符串
</li><li>
<b>$&amp;: </b>匹配的字符串
</li><li>
<b>$': </b>还没有匹配的剩余字符串</li></ul>
<p>如果将这三个变量放在一起,你将得到原始字符串。</p>
<p>实例如下：</p>
<div class="example"> 
<h2 class="example">实例</h2> 
<div class="example_code">
<div class="hl-main"><span class="hl-special">#!/usr/bin/perl</span><span class="hl-code">
 
</span><span class="hl-var">$string</span><span class="hl-code"> = </span><span class="hl-quotes">"</span><span class="hl-string">Revenge is a dish that tastes best when it is cold.</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-var">$string</span><span class="hl-code"> =~ </span><span class="hl-identifier">m</span><span class="hl-code">/</span><span class="hl-identifier"> best </span><span class="hl-code">/;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">匹配前的字符串: </span><span class="hl-var">$`</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">匹配的字符串: $&amp;</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">匹配后的字符串: </span><span class="hl-var">$'</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;</span></div>
</div>
</div><p>执行以上程序输出结果为：</p>
<p><img width="50%" src="./files/Xnip2020-10-23_11-59-16.jpg"></p>
<hr>
<h2>替换操作符</h2>
<p>替换操作符 s/// 是匹配操作符的扩展，使用新的字符串替换指定的字符串。基本格式如下：</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">s</span><span class="pun">/</span><span class="pln">PATTERN</span><span class="pun">/</span><span class="pln">REPLACEMENT</span><span class="pun">/;</span></pre>
<p>PATTERN 为匹配模式，REPLACEMENT 为替换的字符串。</p>
<p>例如我们将以下字符串的 "George Washington" 替换为 "Donald Trump":</p>
<div class="example"> 
<h2 class="example">实例</h2> 
<div class="example_code">
<div class="hl-main"><span class="hl-special">#!/usr/bin/perl</span><span class="hl-code">
 
</span><span class="hl-var">$string</span><span class="hl-code"> = </span><span class="hl-quotes">"</span><span class="hl-string">The present president of United State is George Washington.</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-var">$string</span><span class="hl-code"> =~ </span><span class="hl-identifier">s</span><span class="hl-code">/</span><span class="hl-identifier">George Washington</span><span class="hl-code">/</span><span class="hl-identifier">Donald Trump</span><span class="hl-code">/;
 
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-var">$string</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;</span></div>
</div>
</div><p>执行以上程序输出结果为：</p>
<p><img width="50%" src="./files/Xnip2020-10-23_15-29-52.jpg"></p>
<h3>替换操作修饰符</h3>
<p>替换操作修饰符如下表所示：</p>
<table class="reference">
<tbody><tr><th>修饰符</th><th>描述</th></tr>
<tr><td>i</td><td>如果在修饰符中加上"i"，则正则将会取消大小写敏感性，即"a"和"A" 是一样的。 </td></tr>
<tr><td>m</td><td>默认的正则开始"^"和结束"$"只是对于正则字符串如果在修饰符中加上"m"，那么开始和结束将会指字符串的每一行：每一行的开头就是"^"，结尾就是"$"。</td></tr>
<tr><td>o</td><td>表达式只执行一次。</td></tr>
<tr><td>s</td><td>如果在修饰符中加入"s"，那么默认的"."代表除了换行符以外的任何字符将会变成任意字符，也就是包括换行符！</td></tr>
<tr><td>x</td><td>如果加上该修饰符，表达式中的空白字符将会被忽略，除非它已经被转义。</td></tr>
<tr><td>g</td><td>替换所有匹配的字符串。</td></tr>
<tr><td>e</td><td>替换字符串作为表达式</td></tr>
</tbody></table>
<hr>
<h2>转化操作符</h2>
<p>以下是转化操作符相关的修饰符：</p>
<table class="reference">
<tbody><tr><th>修饰符</th><th>描述</th></tr>
<tr><td>c</td><td>转化所有未指定字符</td></tr>
<tr><td>d</td><td>删除所有指定字符</td></tr>
<tr><td>s</td><td>把多个相同的输出字符缩成一个</td></tr>
</tbody></table>
<p>以下实例将变量 $string 中的所有小写字母转化为大写字母：</p>
<div class="example"> 
<h2 class="example">实例</h2> 
<div class="example_code">
<div class="hl-main"><span class="hl-special">#!/usr/bin/perl</span><span class="hl-code">

</span><span class="hl-var">$string</span><span class="hl-code"> = </span><span class="pln"> </span><span class="hl-quotes">"</span><span class="hl-string">The first president of United State is George Washington.</span><span class="hl-quotes">"</span><span class="pun">;</span><span class="pln">
$string </span><span class="pun">=~</span><span class="pln"> tr</span><span class="pun">/</span><span class="pln">a</span><span class="pun">-</span><span class="pln">z</span><span class="pun">/</span><span class="pln">A</span><span class="pun">-</span><span class="pln">z</span><span class="pun">/;</span><span class="pln">

</span><span class="kwd">print</span><span class="pln"> </span><span class="str">"$string\n"</span><span class="pun">;</span></div>
</div>
</div><p>执行以上程序输出结果为：</p>
<p><img width="50%" src="./files/Xnip2020-10-23_15-35-09.jpg"></p>
<p>以下实例使用 /s 将变量 $string 重复的字符删除：</p>
<div class="example"> 
<h2 class="example">实例</h2> 
<div class="example_code">
<div class="hl-main"><span class="hl-special">#!/usr/bin/perl</span><span class="hl-code">
 
</span><span class="hl-var">$string</span><span class="hl-code"> = </span><span class="hl-quotes">'</span><span class="hl-string">bookkeeper</span><span class="hl-quotes">'</span><span class="hl-code">;
</span><span class="hl-var">$string</span><span class="hl-code"> =~ </span><span class="hl-identifier">tr</span><span class="hl-code">/</span><span class="hl-identifier">a</span><span class="hl-code">-</span><span class="hl-identifier">z</span><span class="hl-code">/</span><span class="hl-identifier">a</span><span class="hl-code">-</span><span class="hl-identifier">z</span><span class="hl-code">/</span><span class="hl-identifier">s</span><span class="hl-code">;
 
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-var">$string</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;</span></div>
</div>
</div>
<p>执行以上程序输出结果为：</p>
<p><img width="50%" src="./files/Xnip2020-10-23_16-01-05.jpg"></p>
<hr>
<h2>更多正则表达式规则</h2>
<table class="reference">
<tbody><tr><th>

表达式</th> <th>描述</th></tr>
<tr><td>
. </td><td>匹配除换行符以外的所有字符</td></tr><tr><td>
x? </td><td> 匹配 0 次或一次 x 字符串</td></tr><tr><td>
x* </td><td> 匹配 0 次或多次 x 字符串,但匹配可能的最少次数</td></tr><tr><td>
x+ </td><td> 匹配 1 次或多次 x 字符串,但匹配可能的最少次数</td></tr><tr><td>
.*  </td><td>匹配 0 次或多次的任何字符</td></tr><tr><td>
.+ </td><td> 匹配 1 次或多次的任何字符</td></tr><tr><td>
{m} </td><td>匹配刚好是 m 个 的指定字符串</td></tr><tr><td>
{m,n}</td><td> 匹配在 m个 以上 n个 以下 的指定字符串</td></tr><tr><td>
{m,} </td><td> 匹配 m个 以上 的指定字符串</td></tr><tr><td>
[] </td><td> 匹配符合 [] 内的字符</td></tr><tr><td>
[^]</td><td> 匹配不符合 [] 内的字符</td></tr><tr><td>
[0-9]</td><td> 匹配所有数字字符</td></tr><tr><td>
[a-z] </td><td>匹配所有小写字母字符</td></tr><tr><td>
[^0-9] </td><td> 匹配所有非数字字符</td></tr><tr><td>
[^a-z]</td><td>  匹配所有非小写字母字符</td></tr><tr><td>
^ </td><td>匹配字符开头的字符</td></tr><tr><td>
$</td><td> 匹配字符结尾的字符</td></tr><tr><td>
\d  </td><td>匹配一个数字的字符,和 [0-9] 语法一样</td></tr><tr><td>
\d+ </td><td>匹配多个数字字符串,和 [0-9]+ 语法一样</td></tr><tr><td>
\D  </td><td>非数字,其他同 \d</td></tr><tr><td>
\D+ </td><td>非数字,其他同 \d+</td></tr><tr><td>
\w </td><td> 英文字母或数字的字符串,和 [a-zA-Z0-9_] 语法一样</td></tr><tr><td>
\w+ </td><td>和 [a-zA-Z0-9_]+ 语法一样</td></tr><tr><td>
\W </td><td> 非英文字母或数字的字符串,和 [^a-zA-Z0-9_] 语法一样</td></tr><tr><td>
\W+ </td><td>和 [^a-zA-Z0-9_]+ 语法一样</td></tr><tr><td>
\s </td><td> 空格,和 [\n\t\r\f] 语法一样</td></tr><tr><td>
\s+ </td><td>和 [\n\t\r\f]+ 一样</td></tr><tr><td>
\S  </td><td>非空格,和 [^\n\t\r\f] 语法一样</td></tr><tr><td>
\S+ </td><td>和 [^\n\t\r\f]+ 语法一样</td></tr><tr><td>
\b </td><td> 匹配以英文字母,数字为边界的字符串</td></tr><tr><td>
\B  </td><td>匹配不以英文字母,数值为边界的字符串</td></tr><tr><td>
a|b|c </td><td>匹配符合a字符 或是b字符 或是c字符 的字符串</td></tr><tr><td>
abc</td><td> 匹配含有 abc 的字符串
(pattern) () 这个符号会记住所找寻到的字符串,是一个很实用的语法.第一个 () 内所找到的字符串变成 $1 这个变量或是 \1 变量,第二个 () 内所找到的字符串变成 $2 这个变量或是 \2 变量,以此类推下去.</td></tr><tr><td>
/pattern/i </td><td> i 这个参数表示忽略英文大小写,也就是在匹配字符串的时候,不考虑英文的大小写问题.
\ 如果要在 pattern 模式中找寻一个特殊字符,如 "*",则要在这个字符前加上 \ 符号,这样才会让特殊字符失效
</td></tr>
</tbody></table>			<!-- 其他扩展 -->

							</div>
						</div>
						<div class="previous-next-links">
		<div class="previous-design-link">
		<a href="./特殊变量.html?pg=特殊变量" rel="prev" title="特殊变量">
			Perl 特殊变量		</a>
	</div>
	<div class="next-design-link">
		<a href="" rel="next" title="">
					</a>
	</div>
</div>
					</div>
				</div>
			</div>
		</div>
	
</body></html>
