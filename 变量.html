<!DOCTYPE html>
<!-- saved from url=(0089)http://localhost:8080/Perl%e6%95%99%e7%a8%8b/%E5%8F%98%E9%87%8F.php?pg=%E5%8F%98%E9%87%8F -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<title>变量</title>		
	<link rel="stylesheet" href="./files/style.css" type="text/css" media="all">	
	<link rel="stylesheet" href="./files/font-awesome.min.css" media="all">	
</head>
	<body style="">
		<div class="container navigation">
			<div class="row">
				<div class="col nav">
				</div>
			</div>
		</div>
		<div class="container main">
			<div class="row">
				<div class="col left-column">
	<div class="tab">
		Perl 变量	</div>
	<div class="sidebar-box gallery-list">
		<div class="design" id="leftcolumn">
							<a target="_top" title="教程" href="./教程.php?pg=教程">
								教程
							</a>
							<a target="_top" title="简介" href="./简介.php?pg=简介">
								简介
							</a>
							<a target="_top" title="环境安装" href="h./环境安装.php?pg=环境安装">
								环境安装
							</a>
							<a target="_top" title="基础语法" href="./基础语法.php?pg=基础语法">
								基础语法
							</a>
							<a target="_top" title="数据类型" href="./数据类型.php?pg=数据类型">
								数据类型
							</a>
							<a target="_top" title="变量" href="./变量.php?pg=变量" style="background-color: rgb(150, 185, 125); font-weight: bold; color: rgb(255, 255, 255);"> 
								变量
							</a>
							<a target="_top" title="标量" href="./标量.php?pg=标量">
								标量
							</a>
							<a target="_top" title="数组" href="./数组.php?pg=数组">
								数组
							</a>
							<a target="_top" title="哈希" href="./哈希.php?pg=哈希">
								哈希
							</a>
							<a target="_top" title="条件语句" href="./条件语句.php?pg=条件语句">
								条件语句	
							</a>
							<a target="_top" title="Perl 循环" href="./循环.php?pg=循环">
								循环
							</a>
							<a target="_top" title="运算符" href="./运算符.php?pg=运算符">
								运算符
							</a>
							<a target="_top" title="子程序(函数)" href="./子程序.php?pg=子程序">
								子程序(函数)	
							</a>
							<a target="_top" title="引用" href="./引用.php?pg=引用">
								引用
							</a>
							<a target="_top" title="格式化输出" href="./格式化输出.php?pg=格式化输出">
								格式化输出
							</a>
							<a target="_top" title="文件操作" href="./文件操作.php?pg=文件操作">
								文件操作
							</a>
							<a target="_top" title="目录操作" href="./目录操作.php?pg=目录操作">
								目录操作	
							</a>
							<a target="_top" title="特殊变量" href="./特殊变量.php?pg=特殊变量">
								特殊变量	
							</a>
							<a target="_top" title="正则表达式" href="./正则表达式.php?pg=正则表达式">
								正则表达式
							</a>
		</div>
	</div>
</div>
				<div class="col middle-column">
					<div class="article" style="background-color: rgb(255, 255, 255);">
						<div class="previous-next-links">
		<div class="previous-design-link">
		<a href="http://localhost:8080/Perl%e6%95%99%e7%a8%8b/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.php?pg=%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" rel="prev" title="数据类型">
			Perl 数据类型		</a>
	</div>
	<div class="next-design-link">
		<a href="http://localhost:8080/Perl%e6%95%99%e7%a8%8b/%E6%A0%87%E9%87%8F.php?pg=%E6%A0%87%E9%87%8F" rel="next" title="标量">
			Perl 标量		</a>
	</div>
</div>
						<div class="article-body">
							<div class="article-intro" id="content">
			<h1>Perl 变量</h1>
<p>变量是存储在内存中的数据，创建一个变量即会在内存上开辟一个空间。</p>
<p>解释器会根据变量的类型来决定其在内存中的存储空间，因此你可以为变量分配不同的数据类型，如整型、浮点型、字符串等。</p>
<p>上一章节中我们已经为大家介绍了Perl的三个基本的数据类型：标量、数组、哈希。</p>
<ul>
标量 $ 开始， 如$a $b 是两个标量。<li></li>
数组 @ 开始 ， 如 @a @b 是两个数组。<li></li>
哈希 % 开始 ， %a  %b 是两个哈希。
</ul>
<p>Perl 为每个变量类型设置了独立的命令空间，所以不同类型的变量可以使用相同的名称，你不用担心会发生冲突。例如 $foo 和 @foo 是两个不同的变量。</p>
<hr>
<h2>创建变量</h2>
<p>变量不需要显式声明类型，在变量赋值后，解释器会自动分配匹配的类型空间。</p>
<p>变量使用等号(=)来赋值。</p>

<blockquote><p>我们可以在程序中使用 <b>use strict</b> 语句让所有变量需要强制声明类型。</p></blockquote>
<p>等号左边为变量，右边为值，实例如下：</p>
<pre class="prettyprint prettyprinted" style=""><span class="pln">$age </span><span class="pun">=</span><span class="pln"> </span><span class="lit">29</span><span class="pun">;</span><span class="pln">             </span><span class="com"># 整型</span><span class="pln">
$name </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Kun Yang"</span><span class="pun">;</span><span class="pln">    </span><span class="com"># 字符串</span><span class="pln">
$deposit </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0.01</span><span class="pun">;</span><span class="pln">       </span><span class="com"># 浮点数</span></pre>

<p>以上代码中 29, "Kun Yang" 和 0.01 分别赋值给 <i>$age</i>, <i>$name</i> 和 <i>$deposit</i> 变量。</p>
<p>接下来我们会看到数组和哈希的使用。</p>
<hr>
<h2>标量变量</h2>
<p>标量是一个单一的数据单元。
数据可以是整数，浮点数，字符，字符串，段落等。简单的说它可以是任何东西。以下是标量的简单应用：
</p>
<div class="example"> 
<h2 class="example">实例</h2> 
<div class="example_code">
<div class="hl-main"><span class="hl-special">#!/usr/bin/perl</span><span class="hl-code">
 
</span><span class="hl-var">$age</span><span class="hl-code"> = </span><span class="hl-number">29</span><span class="hl-code">;             </span><span class="hl-comment"># 整型</span><span class="hl-code">
</span><span class="hl-var">$name</span><span class="hl-code"> = </span><span class="hl-quotes">"</span><span class="hl-string">Kun Yang</span><span class="hl-quotes">"</span><span class="hl-code">;    </span><span class="hl-comment"># 字符串</span><span class="hl-code">
</span><span class="hl-var">$deposit</span><span class="hl-code"> = </span><span class="hl-number">0.01</span><span class="hl-code">;       </span><span class="hl-comment"># 浮点数</span><span class="hl-code">
 
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">Age = </span><span class="hl-var">$age</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">Name = </span><span class="hl-var">$name</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">Deposite = </span><span class="hl-var">$deposit</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;</span></div>
</div>
</div><p>以上程序执行输出结果为：</p>
<p><img width="50%" src="./files/Xnip2020-08-25_09-05-18.jpg"></p>
<hr>
<h2>数组变量</h2>
<p>数组是用于存储一个有序的标量值的变量。</p>
<p>数组 @ 开始。</p>
<p>要访问数组的变量，可以使用美元符号($)+变量名，并指定下标来访问，实例如下所示：</p>
<div class="example"> 
<h2 class="example">实例</h2> 
<div class="example_code">
<div class="hl-main"><span class="hl-special">#!/usr/bin/perl</span><span class="hl-code">
 
</span><span class="hl-var">@race</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-number">"Human"</span><span class="hl-code">, </span><span class="hl-number">"Orc"</span><span class="hl-code">, </span><span class="hl-number">"Night elf"</span><span class="hl-code">, </span><span class="hl-number">"Undead"</span><span class="hl-brackets">)</span><span class="hl-code">;             
</span><span class="hl-var">@names</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-quotes">"</span><span class="hl-string">Varian Wrynn</span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-quotes">"</span><span class="hl-string">Thrall</span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-quotes">"</span><span class="hl-string">Illidan Stormrage</span><span class="hl-quotes">"</span><span class="hl-code">, </span><span class="hl-quotes">"</span><span class="hl-string">Arthas Menethil</span><span class="hl-quotes">"</span><span class="hl-brackets">)</span><span class="hl-code">;
 
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-special">\$</span><span class="hl-string">race[0] = </span><span class="hl-var">$race</span><span class="hl-string">[0]</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-special">\$</span><span class="hl-string">race[1] = </span><span class="hl-var">$race</span><span class="hl-string">[1]</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-special">\$</span><span class="hl-string">race[2] = </span><span class="hl-var">$race</span><span class="hl-string">[2]</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-special">\$</span><span class="hl-string">race[3] = </span><span class="hl-var">$race</span><span class="hl-string">[3]</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-special">\$</span><span class="hl-string">names[0] = </span><span class="hl-var">$names</span><span class="hl-string">[0]</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-special">\$</span><span class="hl-string">names[1] = </span><span class="hl-var">$names</span><span class="hl-string">[1]</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-special">\$</span><span class="hl-string">names[2] = </span><span class="hl-var">$names</span><span class="hl-string">[2]</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-special">\$</span><span class="hl-string">names[3] = </span><span class="hl-var">$names</span><span class="hl-string">[3]</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;</span></div>
</div>
</div><p>以上程序执行输出结果为：</p>
<p><img width="50%" src="./files/Xnip2020-08-25_09-22-10.jpg"></p>

<p>程序中我们在 $ 标记前使用了转义字符 (\) ，这样才能输出字符 $。</p>
<hr>
<h2>哈希变量</h2>
<p>哈希是一个 <b>key/value</b> 对的集合。</p>
<p>哈希 % 开始。</p>  
<p>如果要访问哈希值，可以使用 <b>$ + {key}</b> 格式来访问：</p>
<div class="example"> 
<h2 class="example">实例</h2> 
<div class="example_code">
<div class="hl-main"><span class="hl-special">#!/usr/bin/perl</span><span class="hl-code">
 
</span><span class="hl-var">%race</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">Varian Wrynn</span><span class="hl-quotes">'</span><span class="hl-brackets"> =&gt; </span><span class="hl-quotes">'</span><span class="hl-string">Human</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Thrall</span><span class="hl-quotes">'</span><span class="hl-brackets"> =&gt; </span><span class="hl-quotes">'</span><span class="hl-string">Orc</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Illidan Stormrage</span><span class="hl-quotes">'</span><span class="hl-brackets"> =&gt; </span><span class="hl-quotes">'</span><span class="hl-string">Night elf</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Arthas Menethil</span><span class="hl-quotes">'</span><span class="hl-brackets"> =&gt; </span><span class="hl-quotes">'</span><span class="hl-string">Undead</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
<span class="hl-comment"># %race = ('Varian Wrynn', 'Human', 'Thrall', 'Orc', 'Illidan Stormrage', 'Night elf', 'Arthas Menethil', 'Undead');</span>
 
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-special">\$</span><span class="hl-string">race{'Varian Wrynn'} = </span><span class="hl-var">$race</span><span class="hl-string">{'Varian Wrynn'}</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-special">\$</span><span class="hl-string">race{'Thrall'} = </span><span class="hl-var">$race</span><span class="hl-string">{'Thrall'}</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-special">\$</span><span class="hl-string">race{'Illidan Stormrage'} = </span><span class="hl-var">$race</span><span class="hl-string">{'Illidan Stormrage'}</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;</span>
<span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-special">\$</span><span class="hl-string">race{'Arthas Menethil'} = </span><span class="hl-var">$race</span><span class="hl-string">{'Arthas Menethil'}</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;</span></div>
</div>
</div><p>以上程序执行输出结果为：</p>
<p><img width="50%" src="./files/Xnip2020-08-25_09-52-52.jpg"></p>
<hr>
<h2>变量上下文</h2>
<p>所谓上下文：指的是表达式所在的位置。</p>
<p>上下文是由等号左边的变量类型决定的，等号左边是标量，则是标量上下文，等号左边是列表，则是列表上下文。</p>

<p>Perl 解释器会根据上下文来决定变量的类型。实例如下：</p>
<div class="example"> 
<h2 class="example">实例</h2> 
<div class="example_code">
<div class="hl-main"><span class="hl-special">#!/usr/bin/perl</span><span class="hl-code">
 
</span><span class="hl-var">@names</span><span class="hl-code"> = </span><span class="hl-brackets">(</span><span class="hl-quotes">'</span><span class="hl-string">Varian Wrynn</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Thrall</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Illidan Stormrage</span><span class="hl-quotes">'</span><span class="hl-code">, </span><span class="hl-quotes">'</span><span class="hl-string">Arthas Menethil</span><span class="hl-quotes">'</span><span class="hl-brackets">)</span><span class="hl-code">;
 
</span><span class="hl-var">@copy</span><span class="hl-code"> = </span><span class="hl-var">@names</span><span class="hl-code">;   </span><span class="hl-comment"># 复制数组</span><span class="hl-code">
</span><span class="hl-var">$size</span><span class="hl-code"> = </span><span class="hl-var">@names</span><span class="hl-code">;   </span><span class="hl-comment"># 数组赋值给标量，返回数组元素个数</span><span class="hl-code">
 
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">名字为 : @copy</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;
</span><span class="hl-reserved">print</span><span class="hl-code"> </span><span class="hl-quotes">"</span><span class="hl-string">名字数为 : </span><span class="hl-var">$size</span><span class="hl-special">\n</span><span class="hl-quotes">"</span><span class="hl-code">;</span></div>
</div>
</div><p>以上程序执行输出结果为：</p>
<p><img width="50%" src="./files/Xnip2020-08-25_10-10-46.jpg"></p>
<p>代码中 @names 是一个数组，它应用在了两个不同的上下文中。第一个将其复制给另外一个数组，所以它输出了数组的所有元素。第二个我们将数组赋值给一个标量，它返回了数组的元素个数。</p>
<p>以下列出了多种不同的上下文：</p>
<table class="reference">
<tbody><tr>
<th>序号</th>
<th>上下文及描述</th>
</tr>
<tr>
<td>1</td>
<td><b>标量 −</b>
<p>赋值给一个标量变量，在标量上下文的右侧计算</p></td>
</tr>
<tr>
<td>2</td>
<td><b>列表 −</b>
<p>赋值给一个数组或哈希，在列表上下文的右侧计算。</p></td>
</tr>
<tr>
<td>3</td>
<td><b>布尔 −</b>
<p>布尔上下文是一个简单的表达式计算，查看是否为 true 或 false。</p></td>
</tr>
<tr>
<td>4</td>
<td><b>Void −</b><p>这种上下文不需要关系返回什么值，一般不需要返回值。</p></td>
</tr>
<tr>
<td>5</td>
<td><b>插值 −</b>
<p>这种上下文只发生在引号内。</p></td>
</tr>
</tbody></table>
			<!-- 其他扩展 -->

							</div>
						</div>
						<div class="previous-next-links">
		<div class="previous-design-link">
		<a href="http://localhost:8080/Perl%e6%95%99%e7%a8%8b/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.php?pg=%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" rel="prev" title="数据类型">
			Perl 数据类型		</a>
	</div>
	<div class="next-design-link">
		<a href="http://localhost:8080/Perl%e6%95%99%e7%a8%8b/%E6%A0%87%E9%87%8F.php?pg=%E6%A0%87%E9%87%8F" rel="next" title="标量">
			Perl 标量		</a>
	</div>
</div>
					</div>
				</div>
			</div>
		</div>
	
</body></html>
